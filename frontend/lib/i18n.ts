import { useMemo } from "react";

import { useBasicSettings } from "@/contexts/BasicSettingsContext";

export type Language = "zh-CN" | "en";

const translations: Record<Language, Record<string | number, string>> = {
	"zh-CN": {},
	en: {
		信息流: "Feed",
		通知中心: "Notifications",
		清理: "Clear",
		暂无通知: "No notifications",
		加载中: "Loading...",
		切换主题: "Switch theme",
		明亮: "Light",
		暗黑: "Dark",
		系统: "System",
		管理: "Admin",
		退出登录: "Log out",
		登录: "Login",
		登录成功: "Logged in",
		管理员登录: "Admin Login",
		设置管理员密码: "Set Admin Password",
		去设置管理员密码: "Go set admin password",
		系统未初始化: "System not initialized",
		去登录: "Go to login",
		管理台: "Admin Console",
		文章详情: "Article",
		扩展授权: "Extension Authorization",
		扩展授权登录: "Extension Authorization Login",
		授权成功: "Authorization Success",
		基础配置: "Basic Settings",
		基础配置加载失败: "Failed to load basic settings",
		基础配置已保存: "Basic settings saved",
		基础配置保存失败: "Failed to save basic settings",
		配置站点名称与默认语言: "Configure site name and default language",
		请输入站点名称: "Enter site name",
		"可选，留空使用默认图标": "Optional. Leave empty to use default icon",
		请输入站点描述: "Enter site description",
		无权限访问此页面: "No permission to access this page",
		分类管理: "Categories",
		模型API: "Model API",
		提示词: "Prompts",
		设置: "Settings",
		监控: "Monitoring",
		监控模块: "Monitoring",
		设置模块: "Settings",
		任务监控: "Task Monitor",
		"模型记录/计量": "Model Usage",
		模型API配置列表: "Model API Configs",
		创建配置: "Create config",
		调用次数: "Calls",
		"费用合计（参考）": "Estimated cost",
		"Tokens（输入/输出）": "Tokens (in/out)",
		通用: "General",
		向量: "Vector",
		"配置第三方登录并启用文章评论功能": "Configure third-party login and enable comments",
		配置评论敏感词过滤规则: "Configure sensitive word filters",
		"关闭后访客评论入口将隐藏": "Comment entry will be hidden for visitors when disabled",
		"填写 GitHub OAuth Client ID": "Enter GitHub OAuth Client ID",
		"填写 GitHub OAuth Client Secret": "Enter GitHub OAuth Client Secret",
		"填写 Google OAuth Client ID": "Enter Google OAuth Client ID",
		"填写 Google OAuth Client Secret": "Enter Google OAuth Client Secret",
		"用于签名会话的 Secret": "Secret used to sign sessions",
		"启用后将拦截包含敏感词的评论": "Enabled to block comments containing sensitive words",
		支持换行或逗号分隔: "Support newlines or commas",
		"每行一个敏感词，或使用逗号分隔": "One word per line, or use commas",
		校验通过: "Validation passed",
		校验提示: "Validation notice",
		回调地址: "Callback URLs",
		"控制图片是否转存为本地文件": "Control whether images are stored locally",
		清理中: "Cleaning...",
		深度清理: "Deep clean",
		开启本地图片存储: "Enable local image storage",
		"启用后会将外链图片转存为本地文件": "External images will be stored locally when enabled",
		"压缩阈值 (KB)": "Compression threshold (KB)",
		原评论不存在: "Original comment not found",
		请输入评论内容: "Please enter a comment",
		评论已发布: "Comment posted",
		发布评论失败: "Failed to post comment",
		评论已更新: "Comment updated",
		更新评论失败: "Failed to update comment",
		评论已删除: "Comment deleted",
		删除评论失败: "Failed to delete comment",
		评论已隐藏: "Comment hidden",
		评论已显示: "Comment shown",
		"内容为空，无法扫描": "Content is empty, unable to scan",
		无上一篇: "No previous",
		上一篇: "Previous",
		无下一篇: "No next",
		下一篇: "Next",
		评论: "Comments",
		"写下你的评论，支持 Markdown": "Write your comment, Markdown supported",
		发布评论: "Post comment",
		"评论加载中...": "Loading comments...",
		暂无评论: "No comments",
		原评论: "Original comment",
		复制内容: "Copy content",
		未分类: "Uncategorized",
		"内容（Markdown）": "Content (Markdown)",
		划线批注内容: "Highlight annotation",
		批注内容: "Annotation",
		"输入批注内容，支持 Markdown": "Enter annotation, Markdown supported",
		已选内容: "Selected content",
		输入划线批注内容: "Enter highlight annotation",
		删除评论: "Delete comment",
		"确定要删除这条评论吗？此操作不可撤销。": "Are you sure you want to delete this comment? This action cannot be undone.",
		目录: "Table of contents",
		展开目录: "Expand TOC",
		收起目录: "Collapse TOC",
		AI解读: "AI Insights",
		推荐阅读: "Recommended",
		重新生成向量: "Regenerate embeddings",
		"文章加载中...": "Loading articles...",
		"文章生成中...": "Generating articles...",
		文章推荐已关闭: "Recommendations disabled",
		暂无推荐文章: "No recommendations",
		取消回复: "Cancel reply",
		显示: "Show",
		隐藏: "Hide",
		查看回复: "View replies",
		收起回复: "Collapse replies",
		按模型汇总: "By model",
		暂无数据: "No data",
		模型: "Model",
		调用: "Calls",
		"费用（参考）": "Estimated cost",
		调用明细: "Usage details",
		暂无记录: "No records",
		"AI 任务监控": "AI Task Monitor",
		"查看、重试或取消后台任务": "View, retry, or cancel background tasks",
		状态: "Status",
		任务类型: "Task type",
		待处理: "Pending",
		已取消: "Cancelled",
		尝试: "Attempts",
		文章: "Article",
		时间: "Time",
		操作: "Actions",
		生成: "Generate",
		未知文章: "Unknown article",
		完成: "Finished",
		重试: "Retry",
		暂无匹配任务: "No matching tasks",
		暂无任务: "No tasks",
		文章推荐配置: "Recommendation Settings",
		"控制相似文章推荐与向量化模型": "Control similar-article recommendations and embedding model",
		开启文章推荐: "Enable recommendations",
		"基于向量相似度生成相似文章列表": "Generate similar articles based on vector similarity",
		向量化模型: "Embedding model",
		"暂无向量模型配置，请在模型API配置中设置模型类型为向量。": "No vector model config. Set model type to vector in Model API configs.",
		"默认本地模型将使用本地推理；选择模型配置将走 API 调用生成向量。": "Default local model runs locally; selecting a config uses API embeddings.",
		"查看与管理所有评论与回复": "View and manage all comments and replies",
		关键词: "Keyword",
		评论人: "Commenter",
		已隐藏: "Hidden",
		类型: "Type",
		日期范围: "Date range",
		查看: "View",
		匿名: "Anonymous",
		主评论: "Top-level",
		设为可见: "Set visible",
		设为隐藏: "Set hidden",
		"最长边 (px)": "Max edge (px)",
		"WEBP 质量 (30-95)": "WEBP quality (30-95)",
		重新生成: "Regenerate",
		点击放大: "Click to zoom",
		等待处理: "Pending",
		"生成中...": "Generating...",
		已完成: "Completed",
		失败: "Failed",
		分类筛选: "Category Filter",
		展开: "Expand",
		收起: "Collapse",
		全部文章: "All articles",
		高级筛选: "Advanced Filters",
		创建时间: "Created time",
		全部: "All",
		"1天内": "Last 1 day",
		"3天内": "Last 3 days",
		"1周内": "Last 1 week",
		"1个月": "Last 1 month",
		"3个月": "Last 3 months",
		"6个月": "Last 6 months",
		"1年内": "Last 1 year",
		可见性: "Visibility",
		可见: "Visible",
		排序: "Sort",
		发表时间倒序: "Published desc",
		创建时间倒序: "Created desc",
		文章标题: "Article title",
		模糊匹配标题: "Fuzzy match title",
		来源: "Source",
		全部来源: "All sources",
		作者: "Author",
		内容: "Content",
		全部作者: "All authors",
		发表时间: "Published time",
		暂无筛选条件: "No active filters",
		清除筛选: "Clear filters",
		已选: "Selected",
		篇: "items",
		导出选中: "Export selected",
		选择分类: "Select category",
		清空分类: "Clear category",
		"请输入1-{totalPages}之间的页码": "Please enter a page between 1 and {totalPages}.",
		导出成功: "Exported",
		导出失败: "Export failed",
		评论列表: "Comment List",
		AI配置: "AI Settings",
		模型配置: "Model Configs",
		提示词配置: "Prompt Settings",
		提示词配置列表: "Prompt Configs",
		导出当前: "Export current",
		导出全部: "Export all",
		导入: "Import",
		API密钥: "API key",
		测试连接: "Test connection",
		文章推荐: "Recommendations",
		评论配置: "Comment Settings",
		登录密钥: "Login Keys",
		过滤规则: "Filter Rules",
		文件存储: "File Storage",
		分类列表: "Category List",
		新增分类: "Add Category",
		暂无分类: "No categories",
		站点名称: "Site Name",
		站点描述: "Site Description",
		站点Logo: "Site Logo",
		站点Logo地址: "Site Logo URL",
		默认语言: "Default Language",
		保存配置: "Save Settings",
		保存中: "Saving...",
		保存成功: "Saved",
		保存失败: "Save failed",
		自动生成: "Auto-generate",
		验证配置: "Validate",
		开启评论: "Enable comments",
		已开启: "Enabled",
		已关闭: "Disabled",
		敏感词过滤: "Sensitive word filter",
		敏感词列表: "Sensitive words",
		"保存后立即生效，如登录异常请检查 OAuth 回调地址配置。": "Effective immediately after saving. If login fails, check OAuth callback URLs.",
		清理全部: "Clear all",
		任务: "Task",
		未知错误: "Unknown error",
		任务错误: "Task error",
		接口错误: "API error",
		系统通知: "System notice",
		通知: "Notification",
		最近阅读: "Recent reads",
		清空全部: "Clear all",
		开始日期: "Start date",
		结束日期: "End date",
		"搜索文章标题...": "Search article titles...",
		"搜索中...": "Searching...",
		未找到匹配的文章: "No matching articles",
		输入关键词搜索文章: "Type keywords to search",
		清除: "Clear",
		请输入密码: "Please enter password",
		密码长度至少6位: "Password must be at least 6 characters",
		两次输入的密码不一致: "Passwords do not match",
		操作失败: "Operation failed",
		"首次使用，请设置管理员密码": "First time setup: set an admin password",
		登录后可进行文章管理操作: "Login to manage articles",
		确认密码: "Confirm password",
		请再次输入密码: "Enter password again",
		"处理中...": "Processing...",
		设置密码并登录: "Set password and login",
		以访客身份浏览: "Browse as guest",
		密码: "Password",
		"无法与扩展通信，请确保扩展已安装并启用": "Unable to reach extension. Please ensure it is installed and enabled.",
		登录失败: "Login failed",
		浏览器扩展已获得管理员权限: "The browser extension has admin access",
		"你可以关闭此页面，返回扩展继续使用": "You can close this page and return to the extension",
		"正在授权扩展...": "Authorizing extension...",
		请稍候: "Please wait",
		"登录管理员账号以授权浏览器扩展": "Login with an admin account to authorize the extension",
		请输入管理员密码: "Enter admin password",
		"登录中...": "Logging in...",
		登录并授权: "Login and authorize",
		AI内容: "AI content",
		旧流程: "Legacy",
		"由 Lumina 驱动": "Powered by Lumina",
		清洗: "Clean",
		校验: "Validate",
		分类: "Classification",
		翻译: "Translate",
		向量化: "Embedding",
		摘要: "Summary",
		总结: "Key Points",
		大纲: "Outline",
		金句: "Quotes",
		其他: "Other",
		默认: "Default",
		美元: "USD",
		人民币: "CNY",
		港币: "HKD",
		欧元: "EUR",
		日元: "JPY",
		确定: "Confirm",
		取消: "Cancel",
		删除: "Delete",
		批量删除: "Batch delete",
		暂无文章: "No articles",
		全选: "Select all",
		点击隐藏: "Click to hide",
		点击显示: "Click to show",
		每页显示: "Per page",
		条: "items",
		共: "Total",
		第: "Page",
		页: "",
		上一页: "Prev",
		下一页: "Next",
		跳转: "Go",
		删除成功: "Deleted",
		删除失败: "Delete failed",
		批量删除文章: "Batch delete articles",
		"确定要删除选中的文章吗？此操作不可撤销。": "Are you sure you want to delete the selected articles? This action cannot be undone.",
		已批量设为可见: "Batch set to visible",
		已批量设为隐藏: "Batch set to hidden",
		已设为不可见: "Set to hidden",
		已设为可见: "Set to visible",
		请选择分类: "Please select a category",
		分类已更新: "Category updated",
		仅管理员可导出文章: "Only admins can export articles",
		请先选择要导出的文章: "Please select articles to export",
		标题: "Title",
		是: "Yes",
		否: "No",
		发表: "Published",
		创建: "Created",
		编辑: "Edit",
		预览: "Preview",
		新增: "Add",
		搜索: "Search",
		重置: "Reset",
		清空: "Clear",
		刷新: "Refresh",
		关闭: "Close",
		回复: "Reply",
		清空筛选: "Clear filters",
		查看更多: "View more",
		语言: "Language",
		跟随系统默认: "Follow system default",
		中文: "Chinese",
		英文: "English",
		系统默认: "System Default",
		拖动排序: "Drag to reorder",
		暂无描述: "No description",
		文章推荐配置加载失败: "Failed to load recommendation settings",
		文章推荐配置已保存: "Recommendation settings saved",
		文章推荐配置保存失败: "Failed to save recommendation settings",
		"清理完成：记录 {records}，文件 {files}":
			"Cleanup complete: {records} records, {files} files",
		清理失败: "Cleanup failed",
		"评论已关闭，当前不会对访客开放。":
			"Comments are disabled; visitors cannot comment.",
		"NextAuth Secret 未配置。": "NextAuth secret is not configured.",
		"至少需要配置 GitHub 或 Google 的 Client 信息。":
			"Configure at least GitHub or Google client credentials.",
		"GitHub Client Secret 未填写。": "GitHub Client Secret is missing.",
		"GitHub Client ID 未填写。": "GitHub Client ID is missing.",
		"Google Client Secret 未填写。": "Google Client Secret is missing.",
		"Google Client ID 未填写。": "Google Client ID is missing.",
		配置检查通过: "Configuration check passed",
		"OAuth 配置检查通过": "OAuth configuration passed",
		"OAuth 配置存在问题": "OAuth configuration has issues",
		更新失败: "Update failed",
		配置已更新: "Configuration updated",
		配置已创建: "Configuration created",
		删除模型配置: "Delete model config",
		"确定要删除这个模型API配置吗？此操作不可撤销。":
			"Are you sure you want to delete this model API config? This action cannot be undone.",
		请先填写API地址与密钥: "Please fill in the API URL and key first.",
		"JinaAI 暂不支持自动获取模型列表，请手动填写模型名称":
			"JinaAI does not support auto-fetching models; please enter the model name manually.",
		已获取模型列表: "Model list fetched",
		调用成功: "Call succeeded",
		调用失败: "Call failed",
		"请回复：OK": "Please reply: OK",
		"针对敏感肌专门设计的天然有机护肤产品：体验由芦荟和洋甘菊提取物带来的自然呵护。我们的护肤产品特别为敏感肌设计，温和滋润，保护您的肌肤不受刺激。让您的肌肤告别不适，迎来健康光彩。":
			"Natural organic skincare designed for sensitive skin: enjoy soothing care from aloe and chamomile extracts. Our products are gentle and moisturizing, protecting your skin from irritation and restoring a healthy glow.",
		任务已重试: "Task retried",
		重试失败: "Retry failed",
		取消任务: "Cancel task",
		"确定取消该任务吗？": "Are you sure you want to cancel this task?",
		任务已取消: "Task cancelled",
		取消失败: "Cancel failed",
		"费用计算逻辑（仅供参考）": "Cost calculation (reference)",
		费用计算详情: "Calculation:\n{inputLine}\n{outputLine}\nTotal: {total}",
		已复制: "Copied",
		复制失败: "Copy failed",
		删除提示词配置: "Delete prompt config",
		"确定要删除这个提示词配置吗？此操作不可撤销。":
			"Are you sure you want to delete this prompt config? This action cannot be undone.",
		"导入完成：新增 {created}，更新 {updated}，跳过 {skipped}":
			"Import complete: {created} created, {updated} updated, {skipped} skipped",
		"导入失败，请检查文件内容": "Import failed. Please check the file.",
		分类已创建: "Category created",
		删除分类: "Delete category",
		"确定要删除这个分类吗？此操作不可撤销。":
			"Are you sure you want to delete this category? This action cannot be undone.",
		明细条数: "Detail count",
		请求输入: "Request input",
		响应输出: "Response output",
		名称: "Name",
		API地址: "API URL",
		模型类型: "Model type",
		计费: "Pricing",
		"OpenAI 兼容": "OpenAI compatible",
		编辑模型API配置: "Edit model API config",
		创建新模型API配置: "Create new model API config",
		配置名称: "Config name",
		"API地址（Base URL）": "API Base URL",
		服务提供方: "Provider",
		切换为选择: "Switch to select",
		手动输入: "Manual input",
		"计费设置（可选）": "Pricing settings (optional)",
		"输入单价（每 1K tokens）": "Input price (per 1K tokens)",
		"输出单价（每 1K tokens）": "Output price (per 1K tokens)",
		币种: "Currency",
		启用此配置: "Enable this config",
		设为默认配置: "Set as default",
		保存: "Save",
		编辑提示词配置: "Edit prompt config",
		创建新提示词配置: "Create new prompt config",
		"高级设置（可选）": "Advanced settings (optional)",
		"关联模型API配置（可选）": "Linked model API config (optional)",
		使用默认: "Use default",
		编辑分类: "Edit category",
		分类名称: "Category name",
		描述: "Description",
		颜色: "Color",
		提示词预览: "Prompt preview",
		"未设置（必填）": "Not set (required)",
		编辑此配置: "Edit this config",
		模型连接测试: "Model connection test",
		测试输入: "Test input",
		返回结果: "Result",
		暂无返回: "No response",
		原始响应: "Raw response",
		暂无原始响应: "No raw response",
		开始测试: "Start test",
		"本地默认模型 (all-MiniLM-L6-v2)":
			"Local default model (all-MiniLM-L6-v2)",
		删除文章: "Delete article",
		"确定要删除这篇文章吗？此操作不可撤销。":
			"Are you sure you want to delete this article? This action cannot be undone.",
		应用分类: "Apply category",
		文章不存在: "Article not found",
		重新清洗: "Re-clean",
		重试清洗: "Retry cleaning",
		重新翻译: "Retranslate",
		翻译失败: "Translation failed",
		原: "Original",
		译: "Translation",
		批注: "Notes",
		删除批注: "Delete note",
		访客: "Guest",
		未配置登录方式: "No login providers configured",
		发布: "Publish",
		选择生成配置: "Select generation config",
		使用默认配置: "Use default config",
		编辑文章: "Edit article",
		"头图 URL": "Cover image URL",
		转存为本地文件: "Save as local file",
		未开启本地图片存储: "Local image storage is disabled",
		"未开启本地存储，头图将保持外链":
			"Local storage disabled; cover image stays external",
		头图预览: "Cover preview",
		扫描并转存外链图片: "Scan and store external images",
		"未开启本地存储，外链将保持不变":
			"Local storage disabled; external links stay unchanged",
		"保存中...": "Saving...",
		添加划线批注: "Add highlight note",
		"（无）": "(None)",
		添加: "Add",
		退出沉浸模式: "Exit immersive mode",
		未生成: "Not generated",
		"正在生成...": "Generating...",
		"GitHub 登录": "Sign in with GitHub",
		"Google 登录": "Sign in with Google",
		"写下你的回复，支持 Markdown": "Write your reply, Markdown supported",
		"输入图片 URL": "Enter image URL",
		评论配置已保存: "Comment settings saved",
		评论配置加载失败: "Failed to load comment settings",
		评论配置保存失败: "Failed to save comment settings",
		评论列表加载失败: "Failed to load comments",
		计量汇总加载失败: "Failed to load usage summary",
		调用记录加载失败: "Failed to load usage logs",
		存储配置已保存: "Storage settings saved",
		存储配置加载失败: "Failed to load storage settings",
		存储配置保存失败: "Failed to save storage settings",
		图片转存完成: "Image transfer complete",
		图片已转存: "Image stored locally",
		头图已转存: "Cover image stored",
		图片已上传: "Image uploaded",
		未发现外链图片: "No external images found",
		"未开启本地图片存储，无法上传图片":
			"Local image storage disabled; cannot upload images",
		"请先填写头图 URL": "Please enter a cover image URL first",
		请先登录后再回复: "Please sign in to reply",
		请先选择需要划线的文字: "Please select text to highlight",
		请选择正文中的文字: "Please select text in the article",
		请输入要发送给模型的内容: "Please enter content to send to the model",
		搜索评论内容: "Search comments",
		评论人昵称: "Commenter name",
		文章名称: "Article name",
		暂无: "None",
		配置: "Config",
		"OpenAI GPT-4o": "OpenAI GPT-4o",
		"WEBP 压缩质量": "WEBP quality",
		任务加载失败: "Failed to load tasks",
		关联模型API: "Linked model API",
		"加载中...": "Loading...",
		加载文章失败: "Failed to load article",
		启用: "Enabled",
		响应格式: "Response format",
		回到顶部: "Back to top",
		处理中: "Processing",
		复制: "Copy",
		已保存批注: "Note saved",
		已删除划线批注: "Highlight note deleted",
		已提交向量化任务: "Embedding task submitted",
		已提交生成请求: "Generation request submitted",
		已更新划线批注: "Highlight note updated",
		已重新提交清洗任务: "Cleaning task resubmitted",
		已重新提交翻译请求: "Translation request resubmitted",
		手动输入模型名称: "Enter model name manually",
		批注已删除: "Note deleted",
		文章摘要提示词: "Article summary prompt",
		暂无匹配评论: "No matching comments",
		"最大 Tokens": "Max tokens",
		模型名称: "Model name",
		温度: "Temperature",
		禁用: "Disabled",
		系统提示词: "System prompt",
		"系统级约束，例如：你是一个严谨的内容分析助手...":
			"System constraints, e.g., you are a rigorous content analysis assistant...",
		获取模型失败: "Failed to fetch models",
		"请为以下文章生成摘要...": "Please summarize the following article...",
		请选择模型: "Please select a model",
		"调用中...": "Calling...",
		超过该大小触发压缩: "Compression triggered above this size",
		输入: "Input",
		"输入文章名称搜索...": "Search by article name...",
		输出: "Output",
		限制图片最长边: "Max image edge",
		信息灯塔: "Information Beacon",
	},
};

export const translate = (language: Language, key: string): string => {
	if (language === "zh-CN") return key;
	const map = translations.en;
	return Object.prototype.hasOwnProperty.call(map, key) ? map[key] : key;
};

export function useI18n() {
	const { language } = useBasicSettings();
	const t = useMemo(() => (key: string) => translate(language, key), [language]);
	return { t, language };
}
