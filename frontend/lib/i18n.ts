import { useMemo } from "react";

import { useBasicSettings } from "@/contexts/BasicSettingsContext";

export type Language = "zh-CN" | "en";

const translations: Record<Language, Record<string, string>> = {
	"zh-CN": {},
	en: {
		信息流: "Feed",
		通知中心: "Notifications",
		清理: "Clear",
		暂无通知: "No notifications",
		加载中: "Loading...",
		切换主题: "Switch theme",
		明亮: "Light",
		暗黑: "Dark",
		系统: "System",
		管理: "Admin",
		退出登录: "Log out",
		登录: "Login",
		登录成功: "Logged in",
		管理员登录: "Admin Login",
		设置管理员密码: "Set Admin Password",
		去设置管理员密码: "Go set admin password",
		系统未初始化: "System not initialized",
		去登录: "Go to login",
		管理台: "Admin Console",
		文章详情: "Article",
		扩展授权: "Extension Authorization",
		扩展授权登录: "Extension Authorization Login",
		授权成功: "Authorization Success",
		基础配置: "Basic Settings",
		基础配置加载失败: "Failed to load basic settings",
		基础配置已保存: "Basic settings saved",
		基础配置保存失败: "Failed to save basic settings",
		配置站点名称与默认语言: "Configure site name and default language",
		请输入站点名称: "Enter site name",
		"可选，留空使用默认图标": "Optional. Leave empty to use default icon",
		请输入站点描述: "Enter site description",
		无权限访问此页面: "No permission to access this page",
		分类管理: "Categories",
		模型API: "Model API",
		提示词: "Prompts",
		设置: "Settings",
		监控: "Monitoring",
		监控模块: "Monitoring",
		设置模块: "Settings",
		任务监控: "Task Monitor",
		"模型记录/计量": "Model Usage",
		分类筛选: "Category Filter",
		展开: "Expand",
		收起: "Collapse",
		全部文章: "All articles",
		高级筛选: "Advanced Filters",
		创建时间: "Created time",
		全部: "All",
		"1天内": "Last 1 day",
		"3天内": "Last 3 days",
		"1周内": "Last 1 week",
		"1个月": "Last 1 month",
		"3个月": "Last 3 months",
		"6个月": "Last 6 months",
		"1年内": "Last 1 year",
		可见性: "Visibility",
		可见: "Visible",
		隐藏: "Hidden",
		排序: "Sort",
		发表时间倒序: "Published desc",
		创建时间倒序: "Created desc",
		文章标题: "Article title",
		模糊匹配标题: "Fuzzy match title",
		来源: "Source",
		全部来源: "All sources",
		作者: "Author",
		全部作者: "All authors",
		发表时间: "Published time",
		暂无筛选条件: "No active filters",
		清除筛选: "Clear filters",
		已选: "Selected",
		篇: "items",
		导出选中: "Export selected",
		设为可见: "Set visible",
		设为隐藏: "Set hidden",
		选择分类: "Select category",
		清空分类: "Clear category",
		"请输入1-{totalPages}之间的页码":
			"Please enter a page between 1 and {totalPages}.",
		导出成功: "Exported",
		导出失败: "Export failed",
		评论列表: "Comment List",
		AI配置: "AI Settings",
		模型配置: "Model Configs",
		提示词配置: "Prompt Settings",
		文章推荐: "Recommendations",
		评论配置: "Comment Settings",
		登录密钥: "Login Keys",
		过滤规则: "Filter Rules",
		文件存储: "File Storage",
		分类列表: "Category List",
		新增分类: "Add Category",
		暂无分类: "No categories",
		站点名称: "Site Name",
		站点描述: "Site Description",
		站点Logo: "Site Logo",
		站点Logo地址: "Site Logo URL",
		默认语言: "Default Language",
		保存配置: "Save Settings",
		保存中: "Saving...",
		保存成功: "Saved",
		保存失败: "Save failed",
		自动生成: "Auto-generate",
		验证配置: "Validate",
		开启评论: "Enable comments",
		已开启: "Enabled",
		已关闭: "Disabled",
		敏感词过滤: "Sensitive word filter",
		敏感词列表: "Sensitive words",
		"保存后立即生效，如登录异常请检查 OAuth 回调地址配置。":
			"Effective immediately after saving. If login fails, check OAuth callback URLs.",
		清理全部: "Clear all",
		任务: "Task",
		未知错误: "Unknown error",
		任务错误: "Task error",
		接口错误: "API error",
		系统通知: "System notice",
		通知: "Notification",
		最近阅读: "Recent reads",
		清空全部: "Clear all",
		开始日期: "Start date",
		结束日期: "End date",
		"搜索文章标题...": "Search article titles...",
		"搜索中...": "Searching...",
		未找到匹配的文章: "No matching articles",
		输入关键词搜索文章: "Type keywords to search",
		清除: "Clear",
		请输入密码: "Please enter password",
		密码长度至少6位: "Password must be at least 6 characters",
		两次输入的密码不一致: "Passwords do not match",
		操作失败: "Operation failed",
		"首次使用，请设置管理员密码": "First time setup: set an admin password",
		登录后可进行文章管理操作: "Login to manage articles",
		确认密码: "Confirm password",
		请再次输入密码: "Enter password again",
		"处理中...": "Processing...",
		设置密码并登录: "Set password and login",
		以访客身份浏览: "Browse as guest",
		密码: "Password",
		"无法与扩展通信，请确保扩展已安装并启用":
			"Unable to reach extension. Please ensure it is installed and enabled.",
		登录失败: "Login failed",
		浏览器扩展已获得管理员权限: "The browser extension has admin access",
		"你可以关闭此页面，返回扩展继续使用": "You can close this page and return to the extension",
		"正在授权扩展...": "Authorizing extension...",
		请稍候: "Please wait",
		"登录管理员账号以授权浏览器扩展":
			"Login with an admin account to authorize the extension",
		请输入管理员密码: "Enter admin password",
		"登录中...": "Logging in...",
		登录并授权: "Login and authorize",
		AI内容: "AI content",
		旧流程: "Legacy",
		"由 Lumina 驱动": "Powered by Lumina",
		清洗: "Clean",
		校验: "Validate",
		分类: "Classification",
		翻译: "Translate",
		向量化: "Embedding",
		摘要: "Summary",
		总结: "Key Points",
		大纲: "Outline",
		金句: "Quotes",
		其他: "Other",
		默认: "Default",
		美元: "USD",
		人民币: "CNY",
		港币: "HKD",
		欧元: "EUR",
		日元: "JPY",
		确定: "Confirm",
		取消: "Cancel",
		删除: "Delete",
		删除成功: "Deleted",
		删除失败: "Delete failed",
		批量删除文章: "Batch delete articles",
		"确定要删除选中的文章吗？此操作不可撤销。":
			"Are you sure you want to delete the selected articles? This action cannot be undone.",
		已批量设为可见: "Batch set to visible",
		已批量设为隐藏: "Batch set to hidden",
		已设为不可见: "Set to hidden",
		已设为可见: "Set to visible",
		请选择分类: "Please select a category",
		分类已更新: "Category updated",
		仅管理员可导出文章: "Only admins can export articles",
		请先选择要导出的文章: "Please select articles to export",
		标题: "Title",
		是: "Yes",
		否: "No",
		发表: "Published",
		创建: "Created",
		编辑: "Edit",
		预览: "Preview",
		新增: "Add",
		搜索: "Search",
		重置: "Reset",
		清空: "Clear",
		刷新: "Refresh",
		关闭: "Close",
		查看更多: "View more",
		语言: "Language",
		跟随系统默认: "Follow system default",
		中文: "Chinese",
		英文: "English",
		系统默认: "System Default",
		信息灯塔: "Information Beacon",
	},
};

export const translate = (language: Language, key: string): string => {
	if (language === "zh-CN") return key;
	return translations.en[key] || key;
};

export function useI18n() {
	const { language } = useBasicSettings();
	const t = useMemo(() => (key: string) => translate(language, key), [language]);
	return { t, language };
}
