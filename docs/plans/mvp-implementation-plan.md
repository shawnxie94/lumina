# MVPå®Œæ•´å®ç°è®¡åˆ’ - æ–‡ç« çŸ¥è¯†åº“ç³»ç»Ÿ

**ç›®æ ‡**: è¾¾æˆ100% MVPåŠŸèƒ½å®Œæ•´å®ç°
**åŸºå‡†**: `context/trd/trd-minimal.md`
**å½“å‰å®Œæˆåº¦**: 75%

---

## ä¸€ã€å·²å®ŒæˆåŠŸèƒ½æ¦‚è§ˆ

### åç«¯API (90%)
- âœ… æ–‡ç« CRUDï¼ˆåˆ›å»ºã€åˆ—è¡¨ã€è¯¦æƒ…ã€åˆ é™¤ï¼‰
- âœ… åˆ†ç±»ç®¡ç†ï¼ˆåˆ›å»ºã€åˆ—è¡¨ã€åˆ é™¤ï¼‰
- âœ… AIæ‘˜è¦ç”Ÿæˆï¼ˆOpenAIé›†æˆï¼‰
- âœ… æ–‡ç« å¯¼å‡ºï¼ˆMarkdownæ ¼å¼ï¼‰
- âœ… æ•°æ®æ¨¡å‹å®Œæ•´ï¼ˆArticle, Category, AIAnalysis, AIConfigï¼‰

### å‰ç«¯Web (85%)
- âœ… æ–‡ç« åˆ—è¡¨é¡µï¼ˆåŒæ å¸ƒå±€ã€ç­›é€‰ã€æœç´¢ã€åˆ†é¡µï¼‰
- âœ… æ–‡ç« è¯¦æƒ…é¡µï¼ˆå·¦å³åˆ†æ ã€åŸæ–‡/ç¿»è¯‘åˆ‡æ¢ï¼‰
- âœ… åˆ†ç±»ç®¡ç†é¡µï¼ˆåˆ›å»ºã€åˆ é™¤ã€é¢œè‰²è®¾ç½®ï¼‰
- âœ… APIå°è£…ï¼ˆaxios + TypeScriptç±»å‹ï¼‰

### æµè§ˆå™¨æ‰©å±• (70%)
- âœ… Popupç•Œé¢ï¼ˆé‡‡é›†å™¨UIï¼‰
- âœ… å†…å®¹æå–ï¼ˆDOMé€‰æ‹©å™¨ï¼‰
- âœ… Markdownè½¬æ¢ï¼ˆTurndownServiceï¼‰
- âœ… åˆ†ç±»é€‰æ‹©ï¼ˆåŠ¨æ€åŠ è½½ï¼‰
- âœ… APIé…ç½®ç®¡ç†

### æ•°æ®åº“ (95%)
- âœ… æ‰€æœ‰æ•°æ®è¡¨ç»“æ„å®Œæ•´
- âœ… SQLAlchemy ORMé…ç½®
- âœ… å¤–é”®å…³ç³»å®šä¹‰

---

## äºŒã€å¾…å®ç°åŠŸèƒ½æ¸…å•

### ğŸ”´ é«˜ä¼˜å…ˆçº§ï¼ˆé˜»å¡MVPå¯ç”¨æ€§ï¼‰

#### 1. åç«¯ - æ•°æ®åº“ç´¢å¼•
**æ–‡ä»¶**: `backend/main.py`
**é—®é¢˜**: ç¼ºå°‘æŸ¥è¯¢ç´¢å¼•ï¼Œéšç€æ•°æ®é‡å¢åŠ æ€§èƒ½ä¼šä¸‹é™

**éœ€è¦æ·»åŠ çš„ç´¢å¼•**:
```sql
CREATE INDEX idx_articles_category ON articles(category_id);
CREATE INDEX idx_articles_status ON articles(status);
CREATE INDEX idx_articles_created_at ON articles(created_at DESC);
CREATE INDEX idx_articles_source_url ON articles(source_url);
CREATE INDEX idx_ai_analysis_article_id ON ai_analyses(article_id);
```

#### 2. æ‰©å±• - å›¾ç‰‡è½¬Base64
**æ–‡ä»¶**: `extension/entrypoints/popup/main.js`
**é—®é¢˜**: å½“å‰å›¾ç‰‡URLç›´æ¥å­˜å‚¨ï¼Œè·¨åŸŸæˆ–é“¾æ¥å¤±æ•ˆæ—¶æ— æ³•æ˜¾ç¤º

**å®ç°è¦æ±‚**:
- ä¸‹è½½å›¾ç‰‡å¹¶è½¬æ¢ä¸ºdata URI
- æ·»åŠ é”™è¯¯å¤„ç†ï¼ˆè¶…æ—¶ã€è·¨åŸŸï¼‰
- é™åˆ¶å›¾ç‰‡å¤§å°ï¼ˆ>2MBè·³è¿‡ï¼‰

#### 3. å‰ç«¯ - å¯¼å‡ºä¸‹è½½åŠŸèƒ½
**æ–‡ä»¶**: `frontend/pages/index.tsx`
**é—®é¢˜**: å¯¼å‡ºAPIè¿”å›å†…å®¹ä½†æœªè§¦å‘ä¸‹è½½

**å®ç°è¦æ±‚**:
- è°ƒç”¨exportArticles API
- åˆ›å»ºBlobå¯¹è±¡
- è§¦å‘æµè§ˆå™¨ä¸‹è½½

---

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼ˆå¢å¼ºæ ¸å¿ƒä½“éªŒï¼‰

#### 4. åç«¯ - æ–‡ç« AIé‡è¯•åŠŸèƒ½
**æ–‡ä»¶**: `backend/main.py`
**é—®é¢˜**: AIç”Ÿæˆå¤±è´¥çš„æ–‡ç« æ— æ³•é‡æ–°å¤„ç†

**APIè®¾è®¡**:
```http
POST /api/articles/{id}/retry
Response 200: {"id": "uuid", "status": "processing"}
```

---

### ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼ˆé”¦ä¸Šæ·»èŠ±ï¼‰

#### 8. æ‰©å±• - Content Script
**æ–‡ä»¶**: `extension/entrypoints/content.ts` (æ–°å»º)
**é—®é¢˜**: å½“å‰å†…å®¹æå–ä¾èµ–popupï¼Œæ— æ³•æ³¨å…¥é¡µé¢

**å®ç°è¦æ±‚**:
- åˆ›å»ºç‹¬ç«‹content.tså…¥å£
- ä½¿ç”¨Readabilityæå–é¡µé¢å†…å®¹
- æ”¯æŒå³é”®èœå•é‡‡é›†

#### 9. åç«¯ - AIé…ç½®ç®¡ç†API
**æ–‡ä»¶**: `backend/main.py`
**é—®é¢˜**: AIConfigè¡¨å·²åˆ›å»ºä½†æ— å¯¹åº”API

**APIè®¾è®¡**:
```http
GET /api/configs/ai        # è·å–AIé…ç½®
PUT /api/configs/ai        # æ›´æ–°AIé…ç½®
```

#### 10. å‰ç«¯ - AIé…ç½®ç®¡ç†é¡µé¢
**æ–‡ä»¶**: `frontend/pages/config.tsx` (æ–°å»º)
**é—®é¢˜**: æ— é…ç½®ç•Œé¢ï¼Œæ— æ³•è°ƒæ•´AIå‚æ•°

**å®ç°è¦æ±‚**:
- è¡¨å•å±•ç¤ºå½“å‰AIé…ç½®
- æ”¯æŒä¿®æ”¹model_nameã€prompt_templateã€parameters
- åˆ†ç±»çº§åˆ«é…ç½®è¦†ç›–

---

## ä¸‰ã€è¿­ä»£è®¡åˆ’

### é˜¶æ®µ1ï¼šæ ¸å¿ƒåŠŸèƒ½è¡¥å…¨

**ç›®æ ‡**: è¾¾åˆ°90%å®Œæˆåº¦ï¼ŒMVPå®Œå…¨å¯ç”¨

| ä»»åŠ¡ | æ–‡ä»¶  | ä¾èµ– |
|------|------|------|
| æ•°æ®åº“ç´¢å¼• | backend/main.py | æ—  |
| å›¾ç‰‡è½¬Base64 | extension/popup/main.js | æ—  |
| å¯¼å‡ºä¸‹è½½ | frontend/pages/index.tsx | æ—  |
| æ–‡ç« é‡è¯•API | backend/main.py | æ—  |
| æ–‡ç« é‡è¯•æŒ‰é’® | frontend/pages/article/[id].tsx | æ—  |

**éªŒæ”¶æ ‡å‡†**:
- [x] æ–‡ç« åˆ—è¡¨æŸ¥è¯¢å“åº”<500msï¼ˆ1000æ¡æ•°æ®ï¼‰
- [x] é‡‡é›†æ–‡ç« å›¾ç‰‡æ­£å¸¸æ˜¾ç¤ºï¼ˆæ— è·¨åŸŸé—®é¢˜ï¼‰
- [x] ç‚¹å‡»å¯¼å‡ºè‡ªåŠ¨ä¸‹è½½MDæ–‡ä»¶
- [x] AIå¤±è´¥æ–‡ç« å¯é‡æ–°ç”Ÿæˆ

---

### é˜¶æ®µ2ï¼šç®¡ç†åŠŸèƒ½å¢å¼º

**ç›®æ ‡**: è¾¾åˆ°100% MVPå®Œæˆåº¦

| ä»»åŠ¡ | æ–‡ä»¶ | å·¥ä½œé‡ | ä¾èµ– |
|------|------|--------|------|
| AIé…ç½®API | backend/main.py | 2h | æ—  |
| AIé…ç½®é¡µé¢ | pages/config.tsx | 3h | AIé…ç½®API |

**éªŒæ”¶æ ‡å‡†**:
- [x] ç®¡ç†å‘˜å¯ä¿®æ”¹AIæ¨¡å‹
- [x] ç®¡ç†å‘˜å¯è‡ªå®šä¹‰Promptæ¨¡æ¿
- [x] æ”¯æŒåˆ†ç±»çº§åˆ«AIé…ç½®